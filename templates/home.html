<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - MyApp</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>Welcome to MyApp, {{ user['name'] }}</h1>
            <div class="profile-info">
                <img src="{{ user['avatarUrl'] }}" alt="Profile Picture" class="profile-pic">
                <h2>{{ user['name'] }}</h2>
                <p><strong>@{{ user['username'] }}</strong></p>
                <p class="bio">{{ user['bio'] }}</p>
            </div>
        </header>

        <div class="actions">
            <a href="{{ url_for('tweets') }}" class="btn">Post a Tweet</a>
            <a href="{{ url_for('profile') }}" class="btn">Go to Profile</a>
            <a href="{{ url_for('logout') }}" class="btn">Logout</a>
        </div>

        <section class="tweet-feed">
            <h2>Your Feed</h2>
            {% if posts %}
                <ul>
                    {% for post in posts %}
                        <li class="tweet">
                            <div class="tweet-header">
                                <span class="username">@{{ post['username'] }}</span>
                                <span class="tweet-time">{{ post['timestamp'] }}</span>
                            </div>
                            <p class="tweet-body">{{ post['body'] }}</p>
                            <div class="tweet-footer">
                                <span class="like-count">{{ post['likeCount'] }} Likes</span>
                                <button class="like-btn">Like</button>
                            </div>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No tweets available.</p>
            {% endif %}
        </section>
        
    </div>

    <script>
        // Optional JavaScript to handle like functionality (you may need to update the backend for actual like functionality)
        document.querySelectorAll('.like-btn').forEach(button => {
            button.addEventListener('click', function() {
                let tweetItem = this.closest('.tweet');
                let likeCount = tweetItem.querySelector('.like-count');
                let currentLikes = parseInt(likeCount.textContent);
                likeCount.textContent = (currentLikes + 1) + " Likes";
            });
        });
    </script>
</body>
</html>
